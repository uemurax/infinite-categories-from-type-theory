#+TITLE: $\infty$-Categories from Type Theory
#+AUTHOR: Taichi Uemura
#+OPTIONS: toc:nil H:2
#+LATEX_CLASS: beamer
#+LATEX_CLASS_OPTIONS: [14pt]
#+BEAMER_HEADER: \setbeamertemplate{navigation symbols}{}
#+LATEX_HEADER: \usepackage[euler-digits]{eulervm}
#+LATEX_HEADER: \usepackage{dutchcal}
#+BEAMER_HEADER: \usefonttheme{professionalfonts}
#+LATEX_HEADER: \usepackage[all]{xy}
#+LATEX_HEADER: \usepackage{fontspec,fontawesome}
#+LATEX_HEADER: \setmonofont{DejaVu Sans Mono}

* Introduction

** Why $\infty$-categories?
*** The Univalence Axiom
    :PROPERTIES:
    :BEAMER_ENV: block
    :BEAMER_ACT: <2->
    :END:
**** The Univalence Axiom
     :PROPERTIES:
     :BEAMER_ENV: onslide*
     :BEAMER_ACT: <2>
     :END:
- Equivalence between equality and equivalence
  \[ (A = B) \simeq (A \simeq B). \]
- $A = B$ is an inductive type.
  - /Path induction/
  - rewrite tactic
- $A \simeq B :\equiv
  \Sigma (f : A \to B). (\Sigma (g : B \to A). g \circ f \sim \mathbf{id})
  \times (\Sigma (h : B \to A). f \circ h \sim \mathbf{id})$
**** Why the Univalence Axiom?
     :PROPERTIES:
     :BEAMER_ENV: onslide*
     :BEAMER_ACT: <3-5>
     :END:
- Human ::
  Can identify equivalent objects easily.
- Computer :: @@beamer:<4->@@
  *TYPE ERROR*
***** If the universe is univalent
      :PROPERTIES:
      :BEAMER_ENV: onslide
      :BEAMER_ACT: <5>
      :END:
With the Univalence Axiom, computers can:
- treat an equivalence as an equality and
- recover the original function if necessary.
**** Example
     :PROPERTIES:
     :BEAMER_ENV: onslide*
     :BEAMER_ACT: <6->
     :END:
- $\mathbcal{Set}$ ::
  Only $(0 = 0) \simeq (0 \simeq 0)$ and
  $(1 = 1) \simeq (1 \simeq 1)$ hold.
- $\mathcal{Gpd}$ ::
  For discrete groupoids $A$ and $B$,
  $(A = B) \simeq (A \simeq B)$ holds.
- $2$-$\mathcal{Gpd}$ ::
  For $1$-groupoids $A$ and $B$,
  $(A = B) \simeq (A \simeq B)$ holds.
- $\infty$-$\mathcal{Gpd}$ :: @@beamer:<7->@@
  For *any* $\infty$-groupoids $A$ and $B$,
  $(A = B) \simeq (A \simeq B)$ holds.

** $\infty$-Categorical semantics
*** Intensional DTT and $\infty$-LCCC
Is there an ($\infty$-)equivalence between
- the ($\infty$-)category of *intensional Martin-L\ouml{}f type theories* and
- the ($\infty$-)category of *locally cartesian closed $\infty$-categories*?
*** HoTT and $\infty$-topos
    :PROPERTIES:
    :BEAMER_ACT: <2->
    :END:
Is there an ($\infty$-)equivalence between
- the ($\infty$-)category of *homotopy type theories* and
- the ($\infty$-)category of *$\infty$-topoi*?

* $\infty$-Categories
** Outline
#+TOC: headlines [currentsection]
** $\infty$-Categories
There are many definitions of $\infty$-categories.
- *@@beamer:<2->@@Quasicategories*
- Simplicially enriched categories
- Topologically enriched categories
- Segal categories
- Complete Segal spaces
- $A_{\infty}$-Categories
** Quasicategories
*** Definition of quasicategory
    :PROPERTIES:
    :BEAMER_ENV: onslide*
    :BEAMER_ACT: <1>
    :END:
**** Quasicategory
     :PROPERTIES:
     :BEAMER_ENV: definition
     :END:
A /quasicategory/ is a simplicial set $K$
which has the following property:
- for any $0 < i < n$,
  any map $f_{0} : \Lambda^{n}_{i} \to K$
  admits an extension $f : \Delta^{n} \to K$.
  #+ATTR_LATEX: :mode math :environment xymatrix :math-arguments @M=8pt
  | \Lambda^{n}_{i} \ar[r]^-{f_{0}} \ar@{>->}[d] | K |
  | \Delta^{n} \ar@{.>}[ur]_-{f}                 |   |
*** Example of inner filling
    :PROPERTIES:
    :BEAMER_ENV: onslide*
    :BEAMER_ACT: <2->
    :END:
**** Examples
***** Composition
      :PROPERTIES:
      :BEAMER_ENV: onslide*
      :BEAMER_ACT: <2-10>
      :END:
- $0 < i = 1 < 2$ ::
  #+ATTR_LATEX: :mode inline-math :environment xymatrix :math-arguments @R=4pt
  | x \ar@{-}[dr] \only<3->{\ar@{.}[rr]} |           | \only<3->{g \only<4->{'} \ar@{.>}[rr]} |           | z |
  |                                      | e \ar[dr] | \only<3->{\sigma \only<4->{'}}         | f \ar[ur] |   |
  |                                      |           | y \ar@{-}[ur]                          |           |   |
- $0 < i = 1 < 3$ :: @@beamer:<5->@@
  #+ATTR_LATEX: :mode inline-math :environment xymatrix :math-arguments @R=4pt
  | x \ar@{-}[dd] \ar@{-}[dr] \ar@{-}[rr] |                                                     | g' \ar[rr]                                                     |                                                                | z                   |
  |                                       | g \ar[dddrrr]                                       | \sigma' \only<6>{\ar@{.}[dll] \ar@{.}[r] \ar@{.}[u]}           | f \ar[ur]                                                      |                     |
  | e \ar[dd]                             | \sigma \only<6>{\ar@{.}[l] \ar@{.}[ddr] \ar@{.}[u]} | \only<10->{\Gamma \ar@{.}[l] \ar@{.}[d] \ar@{.}[r] \ar@{.}[u]} | \only<8->{\tau} \only<9>{\ar@{.}[ull] \ar@{.}[r] \ar@{.}[uul]} | \mathbf{id} \ar[uu] |
  |                                       |                                                     | \mathbf{id} \only<6>{\ar@{.}[d] \ar@{.}[urr] \ar@{.}[uur]}     |                                                                |                     |
  | y \ar@{-}[rr] \ar@{-}[uuurrr]         |                                                     | f \ar[rr]                                                      |                                                                | z \ar@{-}[uu]       |
***** Associativity
      :PROPERTIES:
      :BEAMER_ENV: onslide*
      :BEAMER_ACT: <11->
      :END:
Given edges
#+ATTR_LATEX: :mode inline-math :environment xymatrix
| x \ar[r]^-{e} | y \ar[r]^-{f} | z \ar[r]^-{g} | w, |
there are two ways to compose them:
#+BEGIN_CENTER
#+ATTR_LATEX: :mode inline-math :environment xymatrix :math-arguments @R=10pt
| x \ar[dr] \ar[rrr] \ar[drr] |          |           | w |
|                             | y \ar[r] | z \ar[ur] |   |
and
#+ATTR_LATEX: :mode inline-math :environment xymatrix :math-arguments @R=10pt
| x \ar[dr] \ar[rrr] |                   |           | w |
|                    | y \ar[r] \ar[urr] | z \ar[ur] |   |
#+END_CENTER
#+BEAMER: \onslide<12->{
But we can show they are homotopic
using the filling condition for $n = 3$ and $i = 1$ or $2$.
#+BEAMER: }
* $\infty$-Categories from Type Theory
** Outline
#+TOC: headlines [currentsection]
** Are $1$-simplexes functions?
For a dependent type theory $\mathcal{T}$,
define a simplicial set $S(\mathcal{T})$ as:
*** 0 to 2
    :PROPERTIES:
    :BEAMER_ENV: onslide*
    :BEAMER_ACT: <1>
    :END:
- $0$-simplexes are the types.
- $1$-simplexes are the functions $f : A \to B$.
- $2$-simplexes are the homotopies $\sigma : g \circ f \sim h$.
  #+BEGIN_LATEX
  \[\xymatrix{
   A \ar[dr]_-{f} \ar[rr]^-{h} & \ar@{}[d]|-{\sigma} & C \\
    & B \ar[ur]_-{g} &  \\
  }\]
  #+END_LATEX
*** 3 to $\infty$
    :PROPERTIES:
    :BEAMER_ENV: onslide*
    :BEAMER_ACT: <2->
    :END:
- $3$-simplexes are the homotopies
  #+BEGIN_CENTER
  from
  $\xymatrix{x \ar[d]_-{e} \ar[dr]|-{h} \ar[r]^-{l} & w \\
   y \ar[r]_-{f} \ar@{}[ur]|(0.25){\alpha}|(0.75){\beta} & z \ar[u]_-{g} \\}$
  to
  $\xymatrix{x \ar[d]_-{e} \ar[r]^-{l} \ar@{}[dr]|(0.25){\gamma}|(0.75){\delta}& w \\
   y \ar[r]_-{f} \ar[ur]|-{k} & z. \ar[u]_-{g} \\}$
  #+END_CENTER
- @@beamer:<3->@@
  $4$-simplexes are the homotopies from \faRocket{} to \faSpaceShuttle{}.
#+BEAMER: \onslide<3->{
It is hard to write down, even imagine,
what $n$-simplexes are in general.
#+BEAMER: }
** Functions are relations
There are two ways to construct a syntactic category form a type theory.
In both ways the objects are the types.
1. The morphisms are the functions.
   #+BEAMER: \pause
2. The morphisms are the /functional relations/:
   relations $P : A \to B \to \mathbf{Prop}$
   such that the formula $\forall (a : A). \exists ! (b : B). P(a, b)$
   is provable.
** Strategy
   :PROPERTIES:
   :CUSTOM_ID: strategy
   :BEAMER_ACT: <-4>
   :END:
Let $\mathcal{T}$ be a dependent type theory.
1. Define a simplicial set $R(\mathcal{T})$
   whose $1$-simplexes are the $2$-ary type families
   $P : A \to B \to \mathbf{Type}$.
2. @@beamer:<2->@@
   #+BEAMER: \only<5>{\faHandORight}
   Take a subsimplicial set $S(\mathcal{T}) \subset R(\mathcal{T})$
   whose $1$-simplexes are the /functional type families/.
3. @@beamer:<3->@@
   On each stage, give higher analogies.
4. @@beamer:<4->@@
   #+BEAMER: \only<6>{\faHandORight}
   Construct inner fillings.
** Simplicial set of (higher) relations
*** Syntactic form
    :PROPERTIES:
    :BEAMER_ENV: onslide*
    :BEAMER_ACT: <1-4>
    :END:
$R(\mathcal{T})$ is the simplicial set where
1. $0$-simplexes are the types,
2. @@beamer:<2->@@
   $1$-simplexes are the $2$-ary type families,
3. @@beamer:<3->@@
   $2$-simplexes are the type families of the form
   $X : (a : A) (b : B) (c : C) \to
   P(a, b) \to Q(a, c) \to R(b, c) \to \mathbf{Type}$,
4. @@beamer:<4->@@
   $3$-simplexes are the type families of the form
   $\Theta : (a : A) (b : B) (c : C) (d : D)
   (p : P(a, b)) (q : Q(a, c)) (r : R(a, d)) (s : S(b, c)) (t : T(b, d)) (u : U(c, d))
   \to X(p, q, s) \to Y(p, r, t) \to Z(q, r, u) \to W(s, t, u) \to \mathbf{Type}$,
5. @@beamer:<4->@@
   and so on.
*** Categorical form
    :PROPERTIES:
    :BEAMER_ENV: onslide*
    :BEAMER_ACT: <5>
    :END:
- $0$-simplexes ::
  #+ATTR_LATEX: :mode inline-math :environment xymatrix
  | A |
- $1$-simplexes ::
  #+ATTR_LATEX: :mode inline-math :environment xymatrix
  | A | P \ar[l] \ar[r] | B |
- $2$-simplexes ::
  #+ATTR_LATEX: :mode inline-math :environment xymatrix :math-arguments @R=7pt
  | A |                    | Q \ar[ll] \ar[rr]        |                    | C |
  |   |                    | X \ar[dl] \ar[u] \ar[dr] |                    |   |
  |   | P \ar[uul] \ar[dr] |                          | R \ar[dl] \ar[uur] |   |
  |   |                    | B                        |                    |   |
- $3$-simplexes ::
  #+ATTR_LATEX: :mode inline-math :environment xymatrix :math-arguments @R=7pt
  |   |   | X                                        |   |   |
  |   |   |                                          |   |   |
  |   |   | \Theta \ar[uu] \ar[dll] \ar[ddr] \ar[rr] |   | W |
  | Y |   |                                          |   |   |
  |   |   |                                          | Z |   |
*** Formalization
    :PROPERTIES:
    :BEAMER_ENV: onslide*
    :BEAMER_ACT: <6->
    :END:
Note that this definition is formalized in Agda
using mutual recursion of 6 functions!
** Formalization
   :PROPERTIES:
   :BEAMER_OPT: allowframebreaks,label=
   :END:
#+BEAMER: \begingroup\scriptsize
#+INCLUDE: "HigherRelation.agda" src agda :lines "37-"
#+BEAMER: \endgroup
** Face maps and degeneracy maps
*** Syntactic form
    :PROPERTIES:
    :BEAMER_ENV: onslide*
    :BEAMER_ACT: <1>
    :END:
There are obvious projections
$d^{n}_{i} : R(\mathcal{T})_{n} \to R(\mathcal{T})_{n - 1}$
for all $0 \le i \le n$.

Degeneracy maps
$s^{n}_{i} : R(\mathcal{T})_{n} \to R(\mathcal{T})_{n + 1}$
($0 \le i \le n$) are as follows
(not formalized yet):
- $s^{0}_{0}(A) \equiv \lambda (a, a' : A) \to a = a'$
- $s^{1}_{0}(P : A \to B \to \mathbf{Type}) \equiv
  \lambda (a, a' : A) (b : B) (\gamma : a = a') (p : P(a, b)) (p' : P(a', b))
  \to p =_{\gamma} p'$
Here $p =_{\gamma} p'$ is the type of
paths from $p$ to $p'$ /above/ $\gamma$.
*** Categorical form
    :PROPERTIES:
    :BEAMER_ENV: onslide*
    :BEAMER_ACT: <2->
    :END:
- $s^{0}_{0}(A)$ ::
  #+ATTR_LATEX: :mode inline-math :environment xymatrix
  | A | \mathbf{Eq}(A) \ar[l] \ar[r] | A |
- $s^{1}_{0}(A)$ ::
  #+ATTR_LATEX: :mode inline-math :environment xymatrix :math-arguments @R=7pt
  | A |                                 | P \ar[ll] \ar[rr]                     |                    | B |
  |   |                                 | \mathbf{Eq}(P) \ar[dl] \ar[u] \ar[dr] |                    |   |
  |   | \mathbf{Eq}(A) \ar[uul] \ar[dr] |                                       | P \ar[dl] \ar[uur] |   |
  |   |                                 | A                                     |                    |   |
** Strategy
   :PROPERTIES:
   :BEAMER_ENV: againframe
   :BEAMER_REF: #strategy
   :BEAMER_ACT: <5>
   :END:
** Functional higher relations
*** Definitions
    :PROPERTIES:
    :BEAMER_ENV: onslide*
    :BEAMER_ACT: <1>
    :END:
**** Contractibility
    :PROPERTIES:
    :BEAMER_ENV: definition
    :END:
For a type $A$,
$\mathbf{isContr}(A) :\equiv
\Sigma (a : A). (x : A) \to a = x$
**** Functional type family
    :PROPERTIES:
    :BEAMER_ENV: definition
    :END:
A $2$-ary type family $P : A \to B \to \mathbf{Type}$
is /functional/ if
the type $(a : A) \to \mathbf{isContr}(\Sigma (b : B). P(a, b))$
has an element.
*** Examples
    :PROPERTIES:
    :BEAMER_ENV: onslide*
    :BEAMER_ACT: <2>
    :END:
**** Equality
     :PROPERTIES:
     :BEAMER_ENV: example
     :END:
For any type $A$,
the type family $\lambda (a, a' : A) \to a = a'$
is functional.
**** Function
     :PROPERTIES:
     :BEAMER_ENV: example
     :END:
For any function $f : A \to B$,
the type family $\lambda (a : A) (b : B) \to f(a) = b$
is functional.
*** Definitions
    :PROPERTIES:
    :BEAMER_ENV: onslide*
    :BEAMER_ACT: <3>
    :END:
**** Functional type family
     :PROPERTIES:
     :BEAMER_ENV: definition
     :END:
A $2$-simplex
$X : (a : A) (b : B) (c : C) \to
P(a, b) \to Q(a, c) \to R(b, c) \to \mathbf{Type}$
is /functional/ if
$P$, $Q$ and $R$ are functional,
and both the types
- $(a : A) (b : B) (c : C) (p : P(a, b)) (r : R(b, c))
  \to \mathbf{isContr}(\Sigma(q : Q(a, c)).X(p, q, r))$ and
- $(a : A) (b : B) (c : C) (p : P(a, b)) (q : Q(a, c))
  \to \mathbf{isContr}(\Sigma(r : R(b, c)).X(p, q, r))$
have some elements.
*** Remark
    :PROPERTIES:
    :BEAMER_ENV: onslide*
    :BEAMER_ACT: <4>
    :END:
The type
$(a : A) (b : B) (c : C) (q : Q(a, c)) (r : R(b, c))
\to \mathbf{isContr}(\Sigma (p : P(a, b)). X(p, q, r))$
might have no elements.
** Strategy
   :PROPERTIES:
   :BEAMER_ENV: againframe
   :BEAMER_REF: #strategy
   :BEAMER_ACT: <6>
   :END:
** Inner fillings
*** Syntactic form
    :PROPERTIES:
    :BEAMER_ENV: onslide*
    :BEAMER_ACT: <1>
    :END:
For any $(2, 1)$-horn
$(P : A \to B \to \mathbf{Type}, R : B \to C \to \mathbf{Type})$,
we have a $2$-simplex
$\lambda (a : A) (b : B) (c : C)
(p : P(a, b)) (q : P(a, b) \times R(b, c)) (r : R(b, c))
\to \langle p, r \rangle = q$.
*** Categorical form
    :PROPERTIES:
    :BEAMER_ENV: onslide*
    :BEAMER_ACT: <2->
    :END:
#+ATTR_LATEX: :mode math :environment xymatrix
| A |                    | \only<3->{P \times_{B} R \ar[ll] \ar[rr]}                     |                    | C |
|   |                    | \only<3->{\mathbf{Eq}(P \times_{B} R) \ar[dl] \ar[u] \ar[dr]} |                    |   |
|   | P \ar[uul] \ar[dr] |                                                               | R \ar[dl] \ar[uur] |   |
|   |                    | B                                                             |                    |   | 
**** Remark
    :PROPERTIES:
    :BEAMER_ENV: onslide
    :BEAMER_ACT: <4->
    :END:
These filling operations work on outer horns
$\Lambda^{n}_{0}$ and $\Lambda^{n}_{n}$
but don't preserve functionality.
** Summary
For any dependent type theory $\mathcal{T}$,
*** 
    :PROPERTIES:
    :BEAMER_ENV: theorem
    :END:
$R(\mathcal{T})$ is a Kan complex.
*** 
    :PROPERTIES:
    :BEAMER_ENV: theorem
    :END:
$S(\mathcal{T})$ is a quasicategory.
* COMMENT Misc
** Fontawesome
We use [[http://www.ctan.org/pkg/fontawesome][fontawesome.sty]] to display emoji.
In Arch Linux or similar system, you can get it from AUR.

#+BEGIN_SRC shell
  yaourt -S fontawesome.sty
#+END_SRC

** Local variables
# Local Variables:
# org-latex-pdf-process: ("lualatex -draftmode -interaction nonstopmode %b" "bibtex %b" "lualatex -draftmode -interaction nonstopmode %b" "lualatex %b")
# org-beamer-environments-extra: (("onslide" "s" "\\onslide%a{" "}") ("onslide*" "*" "\\onslide*%a{" "}") ("onslide+" "+" "\\onslide+%a{" "}"))
# org-latex-table-matrix-macros: (("xymatrix" . "\\\\"))
# End:
